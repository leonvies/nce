<!DOCTYPE html>
<html lang="pt-PT">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="https://r.mobirisesite.com/2225302/assets/images/photo-1649083048455-01f6827c24d6.jpeg" type="image/x-icon">
  <title>NCE REMODELING | Master Carpentry & Remodeling</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

  <style>
    :root { --amber-wood: #92400e; }
    body { font-family: 'Inter', sans-serif; background-color: #000; color: white; margin: 0; overflow-x: hidden; }
    .serif { font-family: 'Playfair Display', serif; }

    /* --- CAMADAS DE PROFUNDIDADE --- */
    .video-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 1; 
      overflow: hidden;
    }

    .video-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.8) 100%);
      z-index: 2; 
      pointer-events: none;
    }

    .content-wrapper {
      position: relative;
      z-index: 3; 
    }

    #gallery-view {
      display: none;
      min-height: 100vh;
      background: #000;
      position: relative;
      z-index: 100;
    }

    .main-bg-video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center top; 
    }

    /* --- UI ELEMENTS --- */
    .glass-nav {
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(255,255,255,0.05);
    }
    
    .service-card {
      background: rgba(15, 15, 15, 0.85);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      cursor: pointer;
    }
    
    .service-card:hover {
      background: rgba(25, 25, 25, 0.95);
      border-color: var(--amber-wood);
      transform: translateY(-10px);
    }

    /* --- ANIMAÇÕES --- */
    .reveal {
      opacity: 0;
      transform: translateY(40px);
      transition: all 1s cubic-bezier(0.22, 1, 0.36, 1);
    }
    .reveal.active {
      opacity: 1;
      transform: translateY(0);
    }

    @keyframes phone-pulse {
      0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(146, 64, 14, 0.7); }
      70% { transform: scale(1.15); box-shadow: 0 0 0 12px rgba(146, 64, 14, 0); }
      100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(146, 64, 14, 0); }
    }
    .animate-phone-footer {
      animation: phone-pulse 1.5s infinite;
    }

    @keyframes posession-breath {
      0%, 100% { transform: scale(1); opacity: 0.9; text-shadow: 0 0 0px transparent; }
      50% { transform: scale(1.02); opacity: 1; text-shadow: 0 0 15px rgba(146, 64, 14, 0.3); }
    }
    .dream-title {
      animation: posession-breath 4s ease-in-out infinite;
      letter-spacing: -0.02em;
    }

    /* Dropdowns e Modais */
    #phone-dropdown, #contact-modal {
      display: none;
    }
    
    #contact-modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.9);
      backdrop-filter: blur(15px);
      z-index: 10001;
      align-items: center;
      justify-content: center;
    }

    #gallery-modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.98);
      z-index: 10000;
      backdrop-filter: blur(15px);
    }

    html { scroll-behavior: smooth; }

    @keyframes marquee {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }
    .animate-marquee {
      animation: marquee 30s linear infinite;
    }

    .gallery-grid-item {
      aspect-ratio: 4/3;
      overflow: hidden;
      border-radius: 1rem;
      cursor: pointer;
      position: relative;
    }
    .gallery-grid-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }
    .gallery-grid-item:hover img { transform: scale(1.1); }
  </style>
</head>
<body class="bg-black">

  <!-- Background Layer -->
  <div id="main-bg" class="video-container">
    <video class="main-bg-video" autoplay muted loop playsinline poster="https://images.unsplash.com/photo-1581850518616-bcb8186c443e?auto=format&fit=crop&q=80&w=2070">
      <source src="https://res.cloudinary.com/df1wy37zl/video/upload/v1769112274/NCE_Wood_Work_-_story_1_m7mr7s.mp4" type="video/mp4">
    </video>
  </div>
  <div id="main-overlay" class="video-overlay"></div>

  <!-- MODAL DE ORÇAMENTO (ENVIAR DADOS) -->
  <div id="contact-modal" class="p-6">
    <div class="bg-stone-900 border border-white/10 p-8 md:p-10 rounded-[2rem] w-full max-w-lg shadow-2xl relative">
      <button onclick="handleContactClose()" class="absolute top-6 right-6 text-stone-500 hover:text-white transition-colors">
        <i data-lucide="x" class="w-6 h-6"></i>
      </button>
      
      <h3 class="text-3xl font-bold serif mb-2 text-amber-500" data-i18n="modalTitle">Get a Quote</h3>
      <p class="text-stone-400 text-sm mb-8" data-i18n="modalSubtitle">Fill in the details and we will contact you soon.</p>
      
      <form class="space-y-4" onsubmit="event.preventDefault(); alert('Obrigado! Entraremos em contacto brevemente.'); handleContactClose();">
        <input type="text" placeholder="Your Name" required class="w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-sm focus:border-amber-500 outline-none transition-all" data-i18n-ph="phName">
        <input type="email" placeholder="Your Email" required class="w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-sm focus:border-amber-500 outline-none transition-all" data-i18n-ph="phEmail">
        <input type="tel" placeholder="Your Phone Number" required class="w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-sm focus:border-amber-500 outline-none transition-all" data-i18n-ph="phPhone">
        <textarea placeholder="Describe what you need..." rows="4" required class="w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-sm focus:border-amber-500 outline-none transition-all" data-i18n-ph="phDesc"></textarea>
        
        <button type="submit" class="w-full bg-amber-700 hover:bg-amber-600 text-white font-bold py-4 rounded-xl transition-all shadow-xl" data-i18n="btnSend">Request Now</button>
      </form>
    </div>
  </div>

  <!-- Modal de Galeria (Zoom) -->
  <div id="gallery-modal" class="flex flex-col items-center justify-center p-6">
    <button onclick="handleZoomClose()" class="absolute top-6 right-6 text-white hover:text-amber-500 transition-colors z-[10001]">
      <i data-lucide="x" class="w-10 h-10"></i>
    </button>
    <div class="flex items-center justify-center relative w-full h-full">
      <button onclick="prevImg()" class="absolute left-4 text-white hover:text-amber-500 p-2 z-[10001] bg-black/20 rounded-full">
        <i data-lucide="chevron-left" class="w-10 h-10 md:w-16 md:h-16"></i>
      </button>
      <img id="modal-img" src="" alt="Project" class="max-w-full max-h-[85vh] rounded-xl shadow-2xl object-contain">
      <button onclick="nextImg()" class="absolute right-4 text-white hover:text-amber-500 p-2 z-[10001] bg-black/20 rounded-full">
        <i data-lucide="chevron-right" class="w-10 h-10 md:w-16 md:h-16"></i>
      </button>
    </div>
    <div id="img-counter" class="mt-4 text-stone-400 font-bold uppercase tracking-widest text-sm"></div>
  </div>

  <!-- VISTA DE GALERIA -->
  <div id="gallery-view" class="pt-32 pb-20 px-6">
    <div class="max-w-7xl mx-auto">
      <div class="flex flex-col md:flex-row justify-between items-center mb-16 gap-6">
        <div>
          <h2 id="gallery-title" class="text-4xl md:text-6xl font-bold serif text-amber-500 text-center md:text-left">Galeria</h2>
          <p class="text-stone-400 mt-2 uppercase tracking-widest text-xs font-bold text-center md:text-left" data-i18n="gallerySubtitle">Master Remodeling by NCE REMODELING</p>
        </div>
        <button onclick="handleGalleryExit()" class="flex items-center gap-3 bg-white/10 hover:bg-white/20 px-8 py-4 rounded-xl border border-white/10 transition-all font-bold group">
          <i data-lucide="arrow-left" class="w-5 h-5 group-hover:-translate-x-2 transition-transform"></i>
          <span data-i18n="backToSite">Voltar ao Site</span>
        </button>
      </div>
      <div id="gallery-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </div>
  </div>

  <!-- CONTEÚDO PRINCIPAL -->
  <div id="main-site-content" class="content-wrapper">
    
    <!-- Navbar -->
    <nav class="fixed w-full glass-nav z-50">
      <div class="max-w-7xl mx-auto px-6 py-4">
        <div class="flex justify-between items-center w-full">
          <div class="flex flex-col items-start leading-tight">
            <span class="text-xl md:text-2xl font-bold tracking-tighter serif">NCE <span class="text-amber-600 uppercase ml-1">REMODELING</span></span>
            <span class="text-[8px] md:text-[10px] font-bold uppercase tracking-[0.2em] text-stone-400 mt-0.5" data-i18n="navExperience">15+ Anos de Excelência Profissional</span>
          </div>

          <div class="flex items-center gap-3 md:gap-4">
            <button onclick="toggleLanguage()" class="bg-white/10 px-3 py-1.5 md:px-4 rounded-full border border-white/20 hover:bg-white/20 transition-all text-stone-300 flex items-center gap-2 h-10">
              <i data-lucide="languages" class="w-3 h-3 text-amber-500"></i>
              <span id="lang-text" class="text-[10px] md:text-xs font-bold">PT</span>
            </button>
            <div class="relative">
              <button onclick="togglePhoneMenu()" id="phone-trigger" class="w-10 h-10 bg-amber-700 rounded-full flex items-center justify-center text-white animate-phone-footer border border-amber-500/50 hover:bg-amber-600 transition-all">
                <i data-lucide="phone" class="w-5 h-5"></i>
              </button>
              <div id="phone-dropdown">
                <div class="flex flex-col gap-4">
                  <a href="tel:+19548676463" class="flex items-center justify-between group">
                     <div class="flex flex-col"><span class="text-[10px] text-stone-400 uppercase font-bold">Direct Line 1</span><span class="text-lg font-bold text-white group-hover:text-amber-500">+1 (954) 867-6463</span></div>
                     <i data-lucide="external-link" class="w-4 h-4 text-stone-600 group-hover:text-amber-500"></i>
                  </a>
                  <a href="tel:+19543802852" class="flex items-center justify-between group">
                     <div class="flex flex-col"><span class="text-[10px] text-stone-400 uppercase font-bold">Direct Line 2</span><span class="text-lg font-bold text-white group-hover:text-amber-500">+1 (954) 380-2852</span></div>
                     <i data-lucide="external-link" class="w-4 h-4 text-stone-600 group-hover:text-amber-500"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="flex items-center justify-center md:justify-end flex-wrap gap-6 md:gap-10 text-[10px] md:text-xs font-bold uppercase tracking-widest mt-6 md:mt-4">
          <a href="#home" class="hover:text-amber-500 transition-colors" data-i18n="navHome">Home</a>
          <a href="#services" class="hover:text-amber-500 transition-colors" data-i18n="navServices">Services</a>
          <a href="#contact" class="hover:text-amber-500 transition-colors" data-i18n="navContact">Contact</a>
        </div>
      </div>
    </nav>

    <!-- Hero -->
    <section id="home" class="min-h-screen flex items-center justify-center pt-56 pb-12 md:pt-24 reveal">
      <div class="max-w-5xl px-6 text-center">
        <h1 class="text-4xl md:text-7xl lg:text-8xl font-bold serif leading-[1.1] mb-8 drop-shadow-2xl" data-i18n="heroTitle">Transform Your Home with NCE REMODELING</h1>
        <p class="text-lg md:text-xl font-light text-stone-200 mb-12 max-w-3xl mx-auto opacity-90" data-i18n="heroSubtitle">Professional Expertise You Can Trust for Over 15 Years. Turning your vision into a stunning reality.</p>
        <div class="flex flex-col sm:flex-row items-center justify-center gap-5">
          <a href="#contact" class="w-full sm:w-auto hero-btn-primary text-white px-12 py-5 rounded-xl font-bold text-lg transition-all" data-i18n="btnQuote">Get a Free Quote</a>
          <a href="#services" class="w-full sm:w-auto bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 text-white px-12 py-5 rounded-xl font-bold text-lg" data-i18n="btnServices">View Our Work</a>
        </div>
      </div>
    </section>

    <!-- Marquee -->
    <div class="overflow-hidden bg-white/5 backdrop-blur-sm border-y border-white/5 py-6 reveal">
      <div class="flex whitespace-nowrap animate-marquee">
        <div class="flex items-center space-x-12 px-6 text-amber-600/80 font-black uppercase tracking-widest text-sm serif">
          <span>Kitchen Cabinets</span> <span class="w-1.5 h-1.5 bg-amber-600 rounded-full"></span>
          <span>Flooring Tile and Laminate</span> <span class="w-1.5 h-1.5 bg-amber-600 rounded-full"></span>
          <span>Bathrooms</span> <span class="w-1.5 h-1.5 bg-amber-600 rounded-full"></span>
          <span>Baseboards</span> <span class="w-1.5 h-1.5 bg-amber-600 rounded-full"></span>
          <span>Tailor-made Closets</span> <span class="w-1.5 h-1.5 bg-amber-600 rounded-full"></span>
          <span>Drywall Models</span> <span class="w-1.5 h-1.5 bg-amber-600 rounded-full"></span>
        </div>
        <div class="flex items-center space-x-12 px-6 text-amber-600/80 font-black uppercase tracking-widest text-sm serif">
          <span>Kitchen Cabinets</span> <span class="w-1.5 h-1.5 bg-amber-600 rounded-full"></span>
          <span>Flooring Tile and Laminate</span> <span class="w-1.5 h-1.5 bg-amber-600 rounded-full"></span>
          <span>Bathrooms</span> <span class="w-1.5 h-1.5 bg-amber-600 rounded-full"></span>
          <span>Baseboards</span> <span class="w-1.5 h-1.5 bg-amber-600 rounded-full"></span>
          <span>Tailor-made Closets</span> <span class="w-1.5 h-1.5 bg-amber-600 rounded-full"></span>
          <span>Drywall Models</span> <span class="w-1.5 h-1.5 bg-amber-600 rounded-full"></span>
        </div>
      </div>
    </div>

    <!-- Services -->
    <section id="services" class="py-32 px-6 bg-black/80 relative">
      <div class="max-w-7xl mx-auto">
        <div class="text-center mb-24 reveal">
          <h2 class="text-4xl md:text-6xl font-bold serif mb-6" data-i18n="servTitle">What We Do Best</h2>
          <div class="h-1.5 w-24 bg-amber-700 mx-auto rounded-full mb-8"></div>
          <p class="text-stone-400 max-w-2xl mx-auto text-lg" data-i18n="servSubtitle">Uncompromising quality and your complete satisfaction. Precision in every project.</p>
        </div>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          <div onclick="enterGallery('kitchen')" class="service-card p-10 rounded-3xl text-center md:text-left flex flex-col justify-between group reveal">
            <div>
              <div class="w-14 h-14 bg-amber-600/10 rounded-2xl flex items-center justify-center text-amber-500 mb-8 border border-amber-600/20 mx-auto md:mx-0 group-hover:bg-amber-600 group-hover:text-white transition-all"><i data-lucide="utensils"></i></div>
              <h3 class="text-2xl font-bold mb-4 serif" data-i18n="s1">Kitchen Cabinets</h3>
              <p class="text-stone-400 leading-relaxed text-sm" data-i18n="s1d">Elegant designs that transform your kitchen into a masterpiece of functionality and style.</p>
            </div>
            <div class="mt-8 flex items-center gap-2 text-amber-500 font-bold uppercase tracking-widest text-[10px] group-hover:text-amber-400"><span data-i18n="viewGallery">Ver Galeria Completa</span><i data-lucide="arrow-right" class="w-3 h-3 group-hover:translate-x-1 transition-transform"></i></div>
          </div>
          <div class="service-card p-10 rounded-3xl text-center md:text-left reveal">
            <div>
              <div class="w-14 h-14 bg-amber-600/10 rounded-2xl flex items-center justify-center text-amber-500 mb-8 border border-amber-600/20 mx-auto md:mx-0"><i data-lucide="layers"></i></div>
              <h3 class="text-2xl font-bold mb-4 serif" data-i18n="s2">Flooring Tile and Laminate</h3>
              <p class="text-stone-400 leading-relaxed text-sm" data-i18n="s2d">High-quality installations of premium tile and laminate flooring for every room in your home.</p>
            </div>
          </div>
          <div onclick="enterGallery('bathrooms')" class="service-card p-10 rounded-3xl text-center md:text-left flex flex-col justify-between group reveal">
            <div>
              <div class="w-14 h-14 bg-amber-600/10 rounded-2xl flex items-center justify-center text-amber-500 mb-8 border border-amber-600/20 mx-auto md:mx-0 group-hover:bg-amber-600 group-hover:text-white transition-all"><i data-lucide="bath"></i></div>
              <h3 class="text-2xl font-bold mb-4 serif" data-i18n="s3">Bathrooms</h3>
              <p class="text-stone-400 leading-relaxed text-sm" data-i18n="s3d">Complete bathroom remodeling with luxury finishes and custom solutions for your comfort.</p>
            </div>
            <div class="mt-8 flex items-center gap-2 text-amber-500 font-bold uppercase tracking-widest text-[10px] group-hover:text-amber-400"><span data-i18n="viewGallery">Ver Galeria Completa</span><i data-lucide="arrow-right" class="w-3 h-3 group-hover:translate-x-1 transition-transform"></i></div>
          </div>
        </div>
      </div>
    </section>

    <!-- FOOTER / CONTACTS ATUALIZADO -->
    <footer id="contact" class="py-24 px-6 bg-black border-t border-white/5 reveal">
      <div class="max-w-7xl mx-auto grid lg:grid-cols-2 gap-16 items-center">
        <!-- Lado Esquerdo: Título Impactante -->
        <div class="text-center lg:text-left">
          <h2 class="text-3xl md:text-5xl font-bold serif mb-4 leading-tight dream-title text-white" data-i18n="contactTitle">Your dream home is just one call away.</h2>
          <div class="h-1 w-20 bg-amber-700 mb-8 mx-auto lg:mx-0 rounded-full opacity-50"></div>
          <p class="text-stone-400 text-sm md:text-base max-w-md mx-auto lg:mx-0 leading-relaxed" data-i18n="contactDesc">Take the first step towards your perfect space. Our master craftsmen are ready to bring your vision to life.</p>
        </div>

        <!-- Lado Direito: Contactos Estilizados -->
        <div class="flex flex-col gap-10 items-center lg:items-start">
          
          <!-- Endereço -->
          <div class="flex items-center gap-6 group">
             <div class="w-12 h-12 rounded-full border border-white/10 flex items-center justify-center text-amber-600 group-hover:bg-white/5 transition-all">
               <i data-lucide="map-pin" class="w-6 h-6"></i>
             </div>
             <div class="flex flex-col">
               <span class="text-[10px] font-black uppercase tracking-widest text-stone-500">Location</span>
               <span class="text-lg font-bold text-white">Miami, Florida</span>
             </div>
          </div>

          <!-- Telefones (Animado) -->
          <div class="flex items-center gap-6">
             <div class="w-12 h-12 bg-amber-700 rounded-full flex items-center justify-center text-white animate-phone-footer border border-amber-500/50">
               <i data-lucide="phone" class="w-6 h-6"></i>
             </div>
             <div class="flex flex-col gap-1">
               <span class="text-[10px] font-black uppercase tracking-widest text-stone-500">Direct Contacts</span>
               <a href="tel:+19548676463" class="text-xl font-bold hover:text-amber-500 transition-colors">+1 (954) 867-6463</a>
               <a href="tel:+19543802852" class="text-xl font-bold hover:text-amber-500 transition-colors">+1 (954) 380-2852</a>
             </div>
          </div>

          <!-- E-mail / Carta (Abre Popup) -->
          <button onclick="openContactModal()" class="flex items-center gap-6 group text-left">
             <div class="w-12 h-12 rounded-full border border-white/10 flex items-center justify-center text-amber-600 group-hover:bg-amber-600 group-hover:text-white transition-all shadow-lg group-hover:shadow-amber-900/40">
               <i data-lucide="mail" class="w-6 h-6"></i>
             </div>
             <div class="flex flex-col">
               <span class="text-[10px] font-black uppercase tracking-widest text-stone-500 group-hover:text-amber-500 transition-colors">Get an Estimate</span>
               <span class="text-lg font-bold text-white group-hover:text-amber-500 transition-colors underline decoration-white/10 underline-offset-4">contact@nceremodeling.com</span>
             </div>
          </button>

        </div>
      </div>
      <div class="max-w-7xl mx-auto mt-20 pt-8 border-t border-white/5 text-center">
         <p class="text-[10px] uppercase tracking-[0.3em] text-stone-600">© 2026 NCE REMODELING. All Rights Reserved.</p>
      </div>
    </footer>
  </div>

  <script>
    lucide.createIcons();

    // Dados das Galerias
    const galleries = {
      kitchen: {
        title: "Kitchen Cabinets", titlePt: "Armários de Cozinha",
        images: [
          "https://res.cloudinary.com/df1wy37zl/image/upload/v1769121126/imagem_2_caebkj.png",
          "https://res.cloudinary.com/df1wy37zl/image/upload/v1769121126/imagem_3_qjym8k.png",
          "https://res.cloudinary.com/df1wy37zl/image/upload/v1769121125/imagem_1_ikpzpr.png",
          "https://res.cloudinary.com/df1wy37zl/image/upload/v1769121125/ambiente2_xd4qtg.jpg",
          "https://res.cloudinary.com/df1wy37zl/image/upload/v1769121125/ambiente1_fqynjk.jpg"
        ]
      },
      bathrooms: {
        title: "Bathroom Remodeling", titlePt: "Banheiros",
        images: [
          "https://res.cloudinary.com/df1wy37zl/image/upload/v1769122558/portas3_lonilv.jpg",
          "https://res.cloudinary.com/df1wy37zl/image/upload/v1769122558/portas2_cmousy.jpg",
          "https://res.cloudinary.com/df1wy37zl/image/upload/v1769122557/portas_uks4cw.jpg",
          "https://res.cloudinary.com/df1wy37zl/image/upload/v1769121126/imagem_4_wxkuwj.png",
          "https://res.cloudinary.com/df1wy37zl/image/upload/v1769121125/ambiente3_kzjfzj.jpg"
        ]
      }
    };

    let activeGallery = [];
    let activeImgIdx = 0;

    // Gestão de Apresentação (Reveal)
    const initReveal = () => {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('active'); });
      }, { threshold: 0.1 });
      document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
    };

    // Gestão de Histórico
    window.onpopstate = function() {
      if (document.getElementById('contact-modal').style.display === 'flex') closeContactModal(false);
      else if (document.getElementById('gallery-modal').style.display === 'flex') closeZoom(false);
      else if (document.getElementById('gallery-view').style.display === 'block') exitGallery(false);
    };

    // Funções do Modal de Contacto
    function openContactModal() {
      history.pushState({view: 'contact'}, '');
      document.getElementById('contact-modal').style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }
    function handleContactClose() { history.back(); }
    function closeContactModal(shouldPop = true) {
      document.getElementById('contact-modal').style.display = 'none';
      document.body.style.overflow = 'auto';
    }

    // Galeria & Zoom
    function enterGallery(type) {
      const g = galleries[type]; activeGallery = g.images;
      document.getElementById('gallery-title').innerText = currentLang === 'pt' ? g.titlePt : g.title;
      const grid = document.getElementById('gallery-grid'); grid.innerHTML = '';
      g.images.forEach((src, idx) => {
        const item = document.createElement('div'); item.className = 'gallery-grid-item';
        item.onclick = () => openZoom(idx); item.innerHTML = `<img src="${src}" loading="lazy" alt="Project">`;
        grid.appendChild(item);
      });
      history.pushState({view: 'gallery'}, '');
      document.getElementById('main-site-content').style.display = 'none';
      document.getElementById('main-bg').style.display = 'none';
      document.getElementById('main-overlay').style.display = 'none';
      document.getElementById('gallery-view').style.display = 'block';
      window.scrollTo(0,0);
    }
    function handleGalleryExit() { history.back(); }
    function exitGallery() {
      document.getElementById('gallery-view').style.display = 'none';
      document.getElementById('main-site-content').style.display = 'block';
      document.getElementById('main-bg').style.display = 'block';
      document.getElementById('main-overlay').style.display = 'block';
      setTimeout(() => window.scrollTo({ top: document.getElementById('services').offsetTop - 100, behavior: 'smooth' }), 10);
    }
    function openZoom(idx) {
      activeImgIdx = idx; updateZoomModal();
      history.pushState({view: 'zoom'}, '');
      document.getElementById('gallery-modal').style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }
    function handleZoomClose() { history.back(); }
    function closeZoom() { document.getElementById('gallery-modal').style.display = 'none'; document.body.style.overflow = 'auto'; }
    function updateZoomModal() {
      document.getElementById('modal-img').src = activeGallery[activeImgIdx];
      document.getElementById('img-counter').innerText = `${activeImgIdx + 1} / ${activeGallery.length}`;
    }
    function nextImg() { activeImgIdx = (activeImgIdx + 1) % activeGallery.length; updateZoomModal(); }
    function prevImg() { activeImgIdx = (activeImgIdx - 1 + activeGallery.length) % activeGallery.length; updateZoomModal(); }

    function togglePhoneMenu() {
      const dropdown = document.getElementById('phone-dropdown');
      dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
    }
    window.addEventListener('click', (e) => {
      const d = document.getElementById('phone-dropdown'); const t = document.getElementById('phone-trigger');
      if (d && t && !t.contains(e.target) && !d.contains(e.target)) d.style.display = 'none';
    });

    const translations = {
      pt: {
        navHome: "Início", navServices: "Serviços", navContact: "Contacto",
        navExperience: "15+ Anos de Excelência Profissional",
        heroTitle: "Transforme a sua Casa com a NCE REMODELING",
        heroSubtitle: "Experiência profissional em que pode confiar há mais de 15 anos. Tornando a sua visão realidade.",
        btnQuote: "Orçamento Gratuito", btnServices: "Ver Projetos",
        servTitle: "O Que Fazemos Melhor", servSubtitle: "Qualidade sem concessões e satisfação total.",
        s1: "Armários de Cozinha", s1d: "Designs elegantes que transformam a sua cozinha.",
        s2: "Pisos Cerâmicos e Laminados", s2d: "Instalações premium para todos os ambientes.",
        s3: "Banheiros", s3d: "Remodelação completa com acabamentos de luxo.",
        contactTitle: "A casa dos seus sonhos está a uma chamada de distância.",
        contactDesc: "Dê o primeiro passo para o seu espaço perfeito. Estamos prontos para criar.",
        viewGallery: "Ver Galeria Completa", gallerySubtitle: "Remodelação de Mestre pela NCE REMODELING",
        backToSite: "Voltar ao Site",
        modalTitle: "Pedir Orçamento", modalSubtitle: "Preencha os dados e entraremos em contacto em breve.",
        phName: "O Seu Nome", phEmail: "O Seu E-mail", phPhone: "O Seu Telefone", phDesc: "Descreva o que precisa...",
        btnSend: "Solicitar Agora"
      },
      en: {
        navHome: "Home", navServices: "Services", navContact: "Contact",
        navExperience: "15+ Years of Professional Excellence",
        heroTitle: "Transform Your Home with NCE REMODELING",
        heroSubtitle: "Professional Expertise You Can Trust for Over 15 Years.",
        btnQuote: "Get a Free Quote", btnServices: "View Our Work",
        servTitle: "What We Do Best", servSubtitle: "Uncompromising quality and your complete satisfaction.",
        s1: "Kitchen Cabinets", s1d: "Elegant designs that transform your kitchen.",
        s2: "Flooring Tile and Laminate", s2d: "Premium installations for every room.",
        s3: "Bathrooms", s3d: "Complete remodeling with luxury finishes.",
        contactTitle: "Your dream home is just one call away.",
        contactDesc: "Take the first step towards your perfect space. We are ready to build.",
        viewGallery: "View Full Gallery", gallerySubtitle: "Master Remodeling by NCE REMODELING",
        backToSite: "Back to Site",
        modalTitle: "Get a Quote", modalSubtitle: "Fill in the details and we will contact you soon.",
        phName: "Your Name", phEmail: "Your Email", phPhone: "Your Phone Number", phDesc: "Describe what you need...",
        btnSend: "Request Now"
      }
    };

    let currentLang = 'en';
    function toggleLanguage() {
      currentLang = currentLang === 'pt' ? 'en' : 'pt';
      document.querySelectorAll('[data-i18n]').forEach(el => { el.innerText = translations[currentLang][el.getAttribute('data-i18n')]; });
      document.querySelectorAll('[data-i18n-ph]').forEach(el => { el.placeholder = translations[currentLang][el.getAttribute('data-i18n-ph')]; });
      document.getElementById('lang-text').innerText = currentLang === 'pt' ? 'EN' : 'PT';
    }

    (function init() {
      const clean = () => {
        document.querySelectorAll('body > div').forEach(el => {
          const style = el.getAttribute('style') || '';
          if (style.includes('position: fixed') && style.includes('inset: 0') && !el.id.includes('gallery') && !el.id.includes('contact') && !el.classList.contains('content-wrapper') && !el.classList.contains('video-container')) el.remove();
        });
      };
      setInterval(clean, 2000);
      initReveal();
    })();
  </script>
</body>
</html>
